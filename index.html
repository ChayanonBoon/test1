<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Network</title>
    <style>
        table {
            border-collapse: collapse;
            border: 2px solid rgb(200, 200, 200);
            letter-spacing: 1px;
            font-size: 0.8rem;
            max-width: 500px;
            margin: auto;
            margin-top: 20px;
        }

        td,tr {
            border: 1px solid rgb(190, 190, 190);
            padding: 10px 20px;
        }

        td {
            text-align: center;
        }
        .input{
            margin-top: 10px;
            width: 900px;
            height: 200px;
            background-color: black;
            color: aliceblue;
        }
        .div{
            text-align: center;
        }
        .divcolor{
            background-color: black;
            color: white;
            width: 800px;
        }
        .inputip{
            text-align: center;
            border: none;
        }
        .img{
            text-align: center;
        }
        .column {
            float: left;
            width: 45%;
            padding: 10px;
}


    .row:after {
         content: "";
        display: table;
        clear: both;
}

    </style>

</head>

<body>
    <div>
        <table>
            <tr>
                <td>Name PC</td>
                <td>IP Address</td>
                <td>Class</td>
                <td>MAC Address</td>
                <td>Port</td>
            </tr>
            <tr>
                <td>PC A</td>
                <td><input type="text" value="192.168.0.1" class="inputip" id="pca"></td>
                <td>255.255.255.0</td>
                <td><input type="text" id="macpca" value="12:34:56:78:90:AB" class="inputip"></td>
                <td><input type="text" id="porta" value="f0/1" class="inputip"></td>
            </tr>
            <tr>
                <td>PC B</td>
                <td><input type="text" value="192.168.0.2" class="inputip" id="pcb"></td>
                <td>255.255.255.0</td>
                <td><input type="text" id="macpcb" value="13:50:40:18:95:AC" class="inputip"></td>
                <td><input type="text" id="portb" value="f0/2" class="inputip"></td>
            </tr>
            <tr>
                <td>PC C</td>
                <td><input type="text" value="192.168.0.3" class="inputip" id="pcc"></td>
                <td>255.255.255.0</td>
                <td><input type="text" id="macpcc" value="14:67:28:29:80:BF" class="inputip"></td>
                <td><input type="text" id="portc" value="f0/3" class="inputip"></td>
            </tr>
        </table>
    </div>
    <div class="div">
        <p>Source Network Address: <input type="text" id="source">
            to Destination Network Address: <input type="text" id="destination"> <button>Ping</button> </p>
        <p><img class="img"></p>
    </div>
    <div class="row">
        <div class="column">
            <h2>Forwarding Table </h2>
            <table id="forwarding">
                <td>MAC Addres</td>
                <td>Port</td>
                </tr>
            </table>
        </div>

        <div class="column">
            <h2>package</h2>
            <table id="divcolor">

                <tr>
                    <td>Destination Network Address</td>
                    <td>Source Network Address</td>
                    <td>Destination Physical address</td>
                    <td>Source Physical address</td>
                </tr>
            </table>
        </div>
    </div>

    <script>
        var btn2 = document.querySelector('button');
        var Source = document.querySelector('#source');
        var Destination = document.querySelector('#destination');
        var pca = document.querySelector('#pca');
        var pcb = document.querySelector('#pcb');
        var pcc = document.querySelector('#pcc');
        var macpca = document.querySelector('#macpca');
        var macpcb = document.querySelector('#macpcb');
        var macpcc = document.querySelector('#macpcc');
        var porta = document.querySelector('#porta');
        var portb = document.querySelector('#portb');
        var portc = document.querySelector('#portc');

        btn2.addEventListener('click', checkNumber);
        function checkNumber(e) {
            var checkip = /^[192]+[.]+[168]+[.]+[0].[1-9]+$/;
            if (!pca.value.match(checkip)) {
                alert("IP PC A: You must enter the IP Address correctly Ex : 192.168.0.[0-9]");
                return false;
            }
            if (!pcb.value.match(checkip)) {
                alert("IP PC B: You must enter the IP Address correctly Ex : 192.168.0.[0-9]");
                return false;
            }
            if (!pcc.value.match(checkip)) {
                alert("IP PC C: You must enter the IP Address correctly Ex : 192.168.0.[0-9]");
                return false;
            }
            
            if(porta.value == portb.value || portb.value == portc.value || porta.value == portc.value){
                alert("Duplicate port");
                return false;
            }
            else {
                art();
            }
            
        }
        function art() {
            if (Source.value != pca.value) {
                imgFalse();
            }
            if (Source.value != pcb.value) {
                imgFalse();
            }
            if (Source.value != pcc.value) {
                imgFalse();
            }
            if (Destination.value != pca.value) {
                imgFalse();
            }
            if (Destination.value != pcb.value) {
                imgFalse();
            }
            if (Destination.value != pcc.value) {
                imgFalse();
            }
            if (Source.value == pca.value && Destination.value == pca.value) {
                art2();
            }
            if (Source.value == pca.value && Destination.value == pcb.value) {
                art2();
            }
            if (Source.value == pca.value && Destination.value == pcc.value) {
                art2();
            }
            if (Source.value == pcb.value && Destination.value == pca.value) {
                art2();
            }
            if (Source.value == pcb.value && Destination.value == pcb.value) {
                art2();
            }
            if (Source.value == pcb.value && Destination.value == pcc.value) {
                art2();
            }
            if (Source.value == pcc.value && Destination.value == pca.value) {
                art2();
            }
            if (Source.value == pcc.value && Destination.value == pcb.value) {
                art2();
            }
            if (Source.value == pcc.value && Destination.value == pcc.value) {
                art2();
            }

        }

        function imgFalse() {
            var img = document.querySelector('img');
            img.style.width = '50px';
            img.style.height = '50px';
            img.style.textAlign = 'center';
            img.setAttribute('src', "wvekk.png");
        }
        function imgTrue() {
            var img = document.querySelector('img');
            img.style.width = '50px';
            img.style.height = '50px';
            img.style.textAlign = 'center';
            img.setAttribute('src', "ok.png");;
        }
        function art2() {
            if (Source.value != '' || Destination != '') {
                var des;
                var sour;
                var macdes;
                var macsour;
                var port;
                if (Destination.value != "" && Source.value != "") {
                    if (Source.value == pca.value && Destination.value == pca.value) {
                        des = Destination.value;
                        sour = Source.value;
                        macdes = macpca.value;
                        macsour = macpca.value;
                        port = porta.value;
                    }
                    else if (Source.value == pca.value && Destination.value == pcb.value) {
                        des = Destination.value;
                        sour = Source.value;
                        macdes = macpcb.value;
                        macsour = macpca.value;
                        port = portb.value;
                    }
                    else if (Source.value == pca.value && Destination.value == pcc.value) {
                        des = Destination.value;
                        sour = Source.value;
                        macdes = macpcc.value;
                        macsour = macpca.value;
                        port = portc.value;
                    }
                    else if (Source.value == pcb.value && Destination.value == pca.value) {
                        des = Destination.value;
                        sour = Source.value;
                        macdes = macpcb.value;
                        macsour = macpca.value;
                        port = porta.value;
                    }
                    else if (Source.value == pcb.value && Destination.value == pcb.value) {
                        des = Destination.value;
                        sour = Source.value;
                        macdes = macpcb.value;
                        macsour = macpcb.value;
                        port = portb.value;
                    }
                    else if (Source.value == pcb.value && Destination.value == pcc.value) {
                        des = Destination.value;
                        sour = Source.value;
                        macdes = macpcb.value;
                        macsour = macpcc.value;
                        port = portc.value;
                    }
                    else if (Source.value == pcc.value && Destination.value == pca.value) {
                        des = Destination.value;
                        sour = Source.value;
                        macdes = macpcc.value;
                        macsour = macpca.value;
                        port = porta.value;
                    }
                    else if (Source.value == pcc.value && Destination.value == pcb.value) {
                        des = Destination.value;
                        sour = Source.value;
                        macdes = macpcc.value;
                        macsour = macpcb.value;
                        port = portb.value;
                    }
                    else if (Source.value == pcc.value && Destination.value == pcc.value) {
                        des = Destination.value;
                        sour = Source.value;
                        macdes = macpcc.value;
                        macsour = macpcc.value;
                        port = portc.value;
                    }
                    document.getElementById("divcolor").innerHTML += '<tr><td>' + des + "</td>" + '<td>' + sour + '</td>' + '<td>' + macdes + '</td>' + '<td>' + macsour + '</td></tr>';
                    document.getElementById("forwarding").innerHTML += '<tr><td>' + macdes + '</td> ' + '<td>' + port + '</td></tr>';
                    var list = document.getElementById("forwarding");
                    setTimeout(function () { list.removeChild(list.childNodes[2]); }, 5000);
                    imgTrue()
                }

                else {
                    imgFalse();
                }

            }
            else {
                imgFalse();
            }
        }
    </script>
</body>

</html>
